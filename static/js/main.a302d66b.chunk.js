(this.webpackJsonphomework4=this.webpackJsonphomework4||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(7),o=n.n(i),a=(n(20),n(21),n(3)),s=n(12),l=n.n(s),u=n(14),m=n(2),p="GET_EMPLOYERS_INIT",j="GET_EMPLOYERS_ERROR",d="GET_EMPLOYERS_SUCCESS",y="ADD_EMPLOYER",b="REMOVE_EMPLOYER",v=n(4),O=n(15),f=n(6),h={employers:[],isEmployersLoading:!1,error:null,employersActive:[]},g=Object(v.c)({employers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(m.a)(Object(m.a)({},e),{},{isEmployersLoading:!0,error:null});case d:return Object(m.a)(Object(m.a)({},e),{},{employers:t.payload,isEmployersLoading:!1,employersActive:t.payload.filter((function(e){return e.isActive}))});case j:return Object(m.a)(Object(m.a)({},e),{},{error:t.error});case y:return Object(m.a)(Object(m.a)({},e),{},{employers:e.employers.map((function(e){return e.id===t.payload.id?Object(m.a)(Object(m.a)({},e),{},{isActive:!e.isActive}):e})),employersActive:[].concat(Object(f.a)(e.employersActive),[t.payload])});case b:return Object(m.a)(Object(m.a)({},e),{},{employers:e.employers.map((function(e){return e.id===t.payload.id?Object(m.a)(Object(m.a)({},e),{},{isActive:!e.isActive}):e})),employersActive:e.employersActive.filter((function(e){return e.id!==t.payload.id}))});default:return e}}}),x=Object(v.d)(g,Object(v.a)(O.a)),A=function(e){return{type:d,payload:e}},N=function(e,t){return e.map((function(e){var n=t.some((function(t){return t.id===e.id}));return Object(m.a)(Object(m.a)({},e),{},{isActive:n})}))},E=function(e){var t=x.getState().employers.employers,n=Object(m.a)(Object(m.a)({},t.find((function(t){return t.id===e}))),{},{isActive:!0}),r=JSON.parse(localStorage.getItem("active"));return r.push(n),localStorage.setItem("active",JSON.stringify(r)),{type:y,payload:n}},S=function(e){var t=x.getState().employers.employers,n=JSON.parse(localStorage.getItem("active")).filter((function(t){return e!==t.id}));localStorage.setItem("active",JSON.stringify(n));var r=Object(m.a)(Object(m.a)({},t.find((function(t){return t.id===e}))),{},{isActive:!1});return{type:b,payload:r}},L=(n(5),n(1)),C=function(e){var t=e.onChangeAdd,n=e.onChangeRemove,r=e.name,c=e.text,i=e.anotherText,o=e.id,a=e.isActive;return Object(L.jsxs)("form",{className:"form",children:[Object(L.jsxs)("p",{className:"text",children:[Object(L.jsx)("input",{onChange:function(){return n(o)},type:"radio",value:"not-active",name:r,checked:!a}),i]}),Object(L.jsxs)("p",{className:"text",children:[Object(L.jsx)("input",{onChange:function(){return t(o)},type:"radio",value:"active",name:r,checked:a}),c]})]})},R=Object(a.b)(null,(function(e){return{onChangeAdd:function(t){return e(E(t))},onChangeRemove:function(t){return e(S(t))}}}))((function(e){var t=e.employer,n=e.onChangeAdd,r=e.onChangeRemove,c=t.id;return Object(L.jsxs)("div",{className:"item",children:[Object(L.jsxs)("p",{className:t.isActive?"active":"",children:[t.firstName," ",t.lastName]}),Object(L.jsx)(C,{text:"active",anotherText:"not-active",name:"employer",isActive:t.isActive,onChangeAdd:function(){return n(c)},onChangeRemove:function(){return r(c)}})]})})),I=function(e){var t=e.text;return Object(L.jsx)("div",{className:"item",children:Object(L.jsx)("p",{className:"text",children:t})})},J=function(e){var t=e.employers,n=e.letter;return Object(L.jsxs)("div",{className:"column",children:[Object(L.jsx)("h4",{children:n}),t.length?t.map((function(e){return Object(L.jsx)("div",{children:Object(L.jsx)(R,{employer:e,letter:n})},e.id)})):Object(L.jsx)(I,{text:"No Employees"})]})},M=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],w=["January","February","March","April","May","June","Jully","August","September","October","November","December"],k=function(e){var t=e.employer,n=e.month,r=new Date(t.dob),c=r.getDate(),i=r.getFullYear();return Object(L.jsx)("div",{children:Object(L.jsxs)("p",{children:[t.firstName," ",t.lastName," - ",c," ",n,", ",i," year"]})})},D=function(e){var t=e.text;return Object(L.jsx)("div",{children:Object(L.jsx)("p",{children:t})})},T=function(e){var t=e.month,n=e.employersActiveList;return Object(L.jsxs)("div",{className:"employersActiveList",children:[Object(L.jsx)("h4",{children:t}),n.length?n.map((function(e){return Object(L.jsx)(k,{employer:e,month:t})})):Object(L.jsx)(D,{text:"List is empty"})]})},P=Object(a.b)((function(e){return{employers:e.employers.employers,isLoading:e.employers.isEmployersLoading,error:e.employers.error,employersActive:e.employers.employersActive,active:e.employers.active,notActive:e.employers.notActive}}),(function(e){return{onChangeAdd:function(t){return e(E(t))},onChangeRemove:function(t){return e(S(t))}}}))((function(e){var t=(new Date).getMonth(),n=[].concat(Object(f.a)(w.slice(t)),Object(f.a)(w.slice(0,t))),r=e.employers,c=e.employersActive;return Object(L.jsx)("div",{children:Object(L.jsxs)("div",{className:"container",children:[Object(L.jsxs)("div",{className:"column-left",children:[Object(L.jsx)("h2",{children:"Employees"}),Object(L.jsx)("div",{className:"wrapper",children:M.map((function(e){return Object(L.jsx)(J,{employers:r.filter((function(t){return t.firstName.includes(e)})).sort((function(e,t){return e.firstName>t.firstName?1:-1})),letter:e,onchangeAdd:function(){return E()},onChangeRemove:function(){return S()}})}))})]}),Object(L.jsxs)("div",{className:"column-right",children:[Object(L.jsx)("h2",{children:"Employees birthday"}),Object(L.jsx)("div",{className:"employersBirthday",children:c.length?n.map((function(e,t){return Object(L.jsx)(T,{employersActiveList:c.filter((function(e){return new Date(e.dob).getMonth()===t})).sort((function(e,t){return e.dob>t.dob?1:-1})),month:e})})):Object(L.jsx)("p",{children:"Employees List is empty"})})]})]})})}));var _=Object(a.b)((function(e){return{employers:e.employers.employers,isLoading:e.employers.isEmployersLoading,error:e.employers.error}}),(function(e){return{getEmployers:function(){return e(function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p}),localStorage.getItem("active")||localStorage.setItem("active",JSON.stringify([])),e.prev=2,e.next=5,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,c=JSON.parse(localStorage.getItem("active")),i=N(r,c),t(A(i)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),t((o=e.t0,{type:j,payload:o}));case 17:case"end":return e.stop()}var o}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){return Object(r.useEffect)((function(){e.getEmployers()}),[]),Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(P,{})})})),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),i(e),o(e)}))};o.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(a.a,{store:x,children:Object(L.jsx)(_,{})})}),document.getElementById("root")),F()},5:function(e,t,n){}},[[30,1,2]]]);
//# sourceMappingURL=main.a302d66b.chunk.js.map